# @aurora-generated
# @source cliter/business-partner-portal/partner-contact.aurora.yaml

type BusinessPartnerPortalPartnerContact {
  """
  Unique identifier for the partner contact. UUID v4 format, generated automatically on creation. Used as primary key for referencing this contact across the system, in communications tracking, and interaction logs.
  """
  id: ID!
  """
  Auto-incrementing sequential identifier for the partner contact. Used for internal ordering, human-readable reference, and optimized queries. Not exposed in external APIs. Provides a stable identifier for database operations.
  """
  rowId: GraphQLInt!
  """
  Foreign key reference to the business partner this contact belongs to. Each contact is associated with exactly one partner organization. Required field establishing the many-to-one relationship. Indexed for efficient queries when loading all contacts for a specific partner. Constraint enforced to maintain referential integrity.
  """
  businessPartnerId: ID!
  businessPartner: BusinessPartnerPortalBusinessPartner
  """
  First name (given name) of the contact person. Required for personal identification and communication. Used in email greetings, letters, and personal addressing. Should be the preferred first name used by the contact. Cannot be empty to ensure proper identification.
  """
  firstName: GraphQLString!
  """
  Last name (family name) of the contact person. Required for personal identification and formal communications. Used in sorting, searching, and formal addressing. Indexed for fast search operations when looking up contacts by last name. Combined with firstName for full name display.
  """
  lastName: GraphQLString!
  """
  Job title or position of the contact within their organization (e.g., &quot;Sales Manager&quot;, &quot;CEO&quot;, &quot;Technical Lead&quot;, &quot;Purchasing Director&quot;). Used to understand the contact&#x27;s role, authority level, and area of responsibility. NULL indicates position not specified. Helps route communications to appropriate personnel.
  """
  position: GraphQLString
  """
  Department or division where the contact works (e.g., &quot;Sales&quot;, &quot;Procurement&quot;, &quot;Finance&quot;, &quot;Technical Support&quot;). Used to categorize contacts and route inquiries to the correct department. NULL indicates department not specified. Useful for large partner organizations with multiple departments.
  """
  department: GraphQLString
  """
  Business email address of the contact person. Required field for direct communication. Must be a valid, active email address. Used for sending notifications, documents, and correspondence. Indexed for fast lookups. Should be unique per contact but not enforced to allow shared departmental emails in some cases.
  """
  email: GraphQLString!
  """
  Landline phone number of the contact with full formatting including country and area codes (e.g., +54 11 4567-8901). Used for display purposes in user-facing interfaces, partner directories, and printed communications. NULL indicates no landline number provided. Works together with phoneCountryPrefix and phoneSanitized to provide complete phone handling.
  """
  phone: GraphQLString
  """
  Country calling code for the landline number without the plus sign (e.g., 54 for Argentina, 1 for USA, 34 for Spain). Used to identify the country for call routing and phone number validation rules. NULL when no landline phone is provided. Must be consistent with the country prefix embedded in the phone field.
  """
  phoneCountryPrefix: GraphQLString
  """
  Landline number stripped of all formatting characters, containing only digits (e.g., 541145678901). Used for telephony API integrations, automated dialing systems, and deduplication checks. Hidden from detail views to avoid displaying redundant phone information. NULL when no landline phone is provided. Automatically derived from the phone field during creation or update.
  """
  phoneSanitized: GraphQLString
  """
  Mobile phone number of the contact with full formatting including country prefix (e.g., +54 9 11 1234-5678). Used for display purposes in user-facing interfaces and partner directories. Preferred channel for urgent communications and SMS/WhatsApp notifications. NULL indicates no mobile number provided. Works together with mobileCountryPrefix and mobileSanitized to provide complete mobile handling.
  """
  mobile: GraphQLString
  """
  Country calling code for the mobile number without the plus sign (e.g., 54 for Argentina, 1 for USA, 34 for Spain). Used to identify the country for SMS routing, WhatsApp Business API integration, and mobile number validation rules. NULL when no mobile phone is provided. Must be consistent with the country prefix embedded in the mobile field.
  """
  mobileCountryPrefix: GraphQLString
  """
  Mobile number stripped of all formatting characters, containing only digits (e.g., 5491112345678). Used for SMS gateway integrations, WhatsApp Business API, and deduplication checks. Hidden from detail views to avoid displaying redundant phone information. NULL when no mobile phone is provided. Automatically derived from the mobile field during creation or update.
  """
  mobileSanitized: GraphQLString
  """
  Indicates if this is the primary contact for the business partner. Primary contact is the main point of contact and receives general communications by default. Only one contact per partner should be primary. When true, this contact is displayed first and used as default in partner communications. Defaults to false. Required field.
  """
  isPrincipal: GraphQLBoolean!
  """
  Indicates whether the contact is currently active. When false, the contact is no longer with the organization or should not be contacted. Inactive contacts are preserved for historical records but not used in active communications. Use instead of hard deletion to maintain audit trail. Required field, defaults to true.
  """
  isActive: GraphQLBoolean!
  """
  Indicates whether this contact has portal access credentials. When true, the contact can authenticate to the Business Partner Portal to perform operations like uploading invoices, viewing documents, and managing partner data. The associated user account is referenced via userId. When false, the contact is informational only without system access. Defaults to false. Required field.
  """
  isUser: GraphQLBoolean!
  """
  Foreign key reference to the IAM user account for portal authentication. One-to-one relationship - each contact can have at most one user account. NULL when isUser is false (contact without portal access). When set, the contact can authenticate using the linked user&#x27;s credentials. Unique index ensures no two contacts share the same user account. Constraint avoided to prevent circular dependencies across bounded contexts (iam â†” business-partner-portal).
  """
  userId: ID
  user: IamUser
  langId: ID
  lang: CommonLang
  """
  Free-text field for additional notes about the contact. Can include preferences, communication tips, relationship history, or any other relevant observations. NULL indicates no notes. Examples: &quot;Prefers morning calls&quot;, &quot;Decision maker for technical purchases&quot;, &quot;On vacation until [date]&quot;. Not used for structured data or business logic.
  """
  notes: GraphQLString
  """
  Timestamp when the contact record was created. Automatically set on record creation. Part of the audit trail for tracking contact management history and relationship development. Used for reporting on contact acquisition patterns.
  """
  createdAt: GraphQLTimestamp
  """
  Timestamp of the last modification to this contact record. Automatically updated on any field change. Used for tracking contact data evolution, cache invalidation, and audit compliance. Important for monitoring data quality and identifying outdated contact information.
  """
  updatedAt: GraphQLTimestamp
  """
  Soft delete timestamp. NULL indicates an active contact. When set, the contact is hidden from normal queries but preserved for audit purposes and historical communication records. Deleted contacts cannot be used in new communications but existing interaction history remains accessible. Used for compliance with data retention policies while maintaining referential integrity.
  """
  deletedAt: GraphQLTimestamp
}

input BusinessPartnerPortalCreatePartnerContactInput {
  id: ID!
  businessPartnerId: ID!
  firstName: GraphQLString!
  lastName: GraphQLString!
  position: GraphQLString
  department: GraphQLString
  email: GraphQLString!
  phone: GraphQLString
  phoneCountryPrefix: GraphQLString
  phoneSanitized: GraphQLString
  mobile: GraphQLString
  mobileCountryPrefix: GraphQLString
  mobileSanitized: GraphQLString
  isPrincipal: GraphQLBoolean!
  isActive: GraphQLBoolean!
  isUser: GraphQLBoolean!
  userId: ID
  langId: ID
  notes: GraphQLString
}

input BusinessPartnerPortalUpdatePartnerContactByIdInput {
  id: ID!
  businessPartnerId: ID
  firstName: GraphQLString
  lastName: GraphQLString
  position: GraphQLString
  department: GraphQLString
  email: GraphQLString
  phone: GraphQLString
  phoneCountryPrefix: GraphQLString
  phoneSanitized: GraphQLString
  mobile: GraphQLString
  mobileCountryPrefix: GraphQLString
  mobileSanitized: GraphQLString
  isPrincipal: GraphQLBoolean
  isActive: GraphQLBoolean
  isUser: GraphQLBoolean
  userId: ID
  langId: ID
  notes: GraphQLString
}

input BusinessPartnerPortalUpdatePartnerContactsInput {
  id: ID
  businessPartnerId: ID
  firstName: GraphQLString
  lastName: GraphQLString
  position: GraphQLString
  department: GraphQLString
  email: GraphQLString
  phone: GraphQLString
  phoneCountryPrefix: GraphQLString
  phoneSanitized: GraphQLString
  mobile: GraphQLString
  mobileCountryPrefix: GraphQLString
  mobileSanitized: GraphQLString
  isPrincipal: GraphQLBoolean
  isActive: GraphQLBoolean
  isUser: GraphQLBoolean
  userId: ID
  langId: ID
  notes: GraphQLString
}

type Query {
  businessPartnerPortalFindPartnerContact(
    query: QueryStatement
    constraint: QueryStatement
  ): BusinessPartnerPortalPartnerContact

  businessPartnerPortalFindPartnerContactById(
    id: ID
    constraint: QueryStatement
  ): BusinessPartnerPortalPartnerContact

  businessPartnerPortalGetPartnerContacts(
    query: QueryStatement
    constraint: QueryStatement
  ): [BusinessPartnerPortalPartnerContact]!

  businessPartnerPortalPaginatePartnerContacts(
    query: QueryStatement
    constraint: QueryStatement
  ): Pagination!
}

type Mutation {
  businessPartnerPortalCreatePartnerContact(
    payload: BusinessPartnerPortalCreatePartnerContactInput!
  ): BusinessPartnerPortalPartnerContact

  businessPartnerPortalUpdatePartnerContactById(
    payload: BusinessPartnerPortalUpdatePartnerContactByIdInput!
    constraint: QueryStatement
  ): BusinessPartnerPortalPartnerContact

  businessPartnerPortalDeletePartnerContactById(
    id: ID!
    constraint: QueryStatement
  ): BusinessPartnerPortalPartnerContact
}
